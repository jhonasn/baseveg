{"version":3,"sources":["components/loading.js","api/baseDb.js","api/index.js","api/item.js","api/option.js","api/ingredient.js","api/favorite.js","favorites/button.js","list/category.js","api/category.js","list/categories.js","list/card-item.js","hooks/use-infinite-scroll.js","list/items.js","list/options.js","recent/index.js","components/chiptip.js","ingredients/card-ingredient.js","favorites/index.js","announcements/index.js","ingredients/index.js","download/index.js","about/index.js","api/config.js","search/index.js","routes.js","theme.js","menu/navbar.js","menu/bottom.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","loading","zIndex","drawer","useTheme","classes","react_default","a","createElement","Backdrop","className","open","CircularProgress","color","disableShrink","storeNames","defaultStoreOptions","keyPath","autoIncrement","window","indexedDB","Error","dbPromise","openDB","upgrade","db","createObjectStore","Object","objectSpread","recentStore","favoritesStore","createIndex","StoreDb","storeName","classCallCheck","this","isReadOnly","transaction","getAll","id","get","obj","avoidException","put","delete","clear","configStore","removeDiacritics","text","normalize","replace","getNextItems","collection","lastId","chunkSize","arguments","length","undefined","idx","findIndex","i","slice","getData","_ref","asyncToGenerator","regenerator_default","mark","_callee","response","wrap","_context","prev","next","fetch","concat","process","sent","json","abrupt","stop","apply","query","_x","src_api_query","_callee2","search","_ref2","categories","items","options","searchTerm","searchFilter","boldResult","searchOnList","categoriesResult","itemsResult","optionsResult","result","_context2","toLowerCase","name","includes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","matchAll","RegExp","Symbol","iterator","done","res","value","endRes","index","begin","substring","end","push","content","bold","err","return","list","filter","map","forEach","c","included","cat","includeCategory","includeItems","includeOptions","findCategory","category","key","inCategories","find","cr","some","_cat$items","categoryItems","toConsumableArray","o","findItem","item","api","loadWithObservations","data","obs","observations","obsId","_load","_load2","t0","t1","call","loadNext","_loadNext","categoryId","t2","t3","_x2","_get","_callee3","_context3","_x3","only","except","warning","itemApi","load","_load3","itemId","ingredients","font","fonts","f","fontId","count","_count","_callee4","_context4","descriptionShort","otherNames","n","description","use","alternatives","apis","option","optionApi","ingredient","ingredientApi","getFavoriteType","favorites","typeItems","typeId","type","store","Promise","all","favorite","getTx","isFavorite","_isFavorite","_x4","save","_save","_x5","_x6","_query","_callee5","_args5","_context5","palette","secondary","light","noPadding","padding","favorites_button","noPad","onFavoriteChanged","_useState","useState","_useState2","slicedToArray","setIsFavorite","favorited","handleFavorite","_ref3","isFavorited","IconButton","onClick","clsx","Favorite_default","FavoriteBorder_default","Delete_default","spacing","position","backgroundColor","grey","common","white","marginBottom","minHeight","backgroundSize","backgroundRepeat","backgroundPosition","overlay","top","bottom","right","left","banner","margin","borderRadius","list_category","link","_ref$banner","_ref$noType","noType","Paper","style","backgroundImage","display","alt","Grid","container","direction","justify","alignItems","Typography","variant","Fragment","xs","gutterBottom","CardActionArea","component","Link","to","list_categories","setCategories","useEffect","Container","fixed","card","width","badge","cardContent","cardActions","maxWidth","actionsTitle","marginTop","actionsWithTitle","paddingTop","contentWithActionsTitle","paddingBottom","red","lightBlue","orange","observation","teal","card_item","_ref$badge","isOption","children","history","useHistory","warnings","CardContent","CardActions","disableSpacing","Card","e","findParentButton","el","tagName","parentNode","target","optionsCount","Badge","badgeContent","useInfiniteScroll","onBottomReached","infiniteScroll","debounce","innerHeight","document","documentElement","scrollTop","offsetHeight","addEventListener","removeEventListener","list_items","useParams","setCategory","_useState3","_useState4","setItems","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","isAllItemsLoaded","setIsAllItemsLoaded","_useState9","_useState10","openAllItemsLoaded","setOpenAllItemsLoaded","getMoreItems","nextItems","pop","categoryApi","scrollTo","Snackbar","onClose","TransitionComponent","props","Slide","assign","autoHideDuration","message","list_options","_useParams","setItem","setOptions","iid","Number","t4","t5","recent","align","History_default","Build_default","DirectionsRun_default","root","notFountPaper","brandsDescription","chipContainer","justifyContent","flexWrap","& > *","chip","marginLeft","ChipContainer","Chiptip","tip","_ref2$icon","icon","Tooltip","title","Chip","deleteIcon","onDelete","label","chipLabel","clickable","d-block","float","card_ingredient","arr","start","join","formatArrayFinishByAnd","href","src_favorites","setFavorites","refreshFavorites","paper","textAlign","announcements","routes","facebook","Warning_default","p","Array","isArray","pp","src_ingredients","setIngredients","total","setTotal","nextIngredients","download","CloudDownload_default","about","body","github","Route","config","getTheme","_getTheme","setTheme","_setTheme","isLightTheme","getIsSearchTipPresented","_getIsSearchTipPresented","setIsSearchTipPresented","_setIsSearchTipPresented","infoSnack","primary","main","fontSize","infoIcon","opacity","marginRight","infoMessage","SearchResultText","part","src_search","showEndOfItems","setShowEndOfItems","showOptionTip","setShowOptionTip","setResult","isAlreadyShown","configApi","onscroll","handleInfoClose","search_SearchResultText","Hidden","mdUp","anchorOrigin","vertical","horizontal","Info_default","Close_default","ContentProps","src_routes","react_router","exact","from","path","Categories","Items","Options","Recent","Favorites","Announcements","Ingredients","Download","About","Search","lightTheme","responsiveFontSizes","createMuiTheme","indigo","error","lime","darkTheme","dark","_brandIcon","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarAbove","menuButton","defineProperty","breakpoints","hide","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","flexGrow","&:focus","outlineStyle","brandIcon","height","up","titleText","shape","fade","&:hover","searchIcon","pointerEvents","inputRoot","inputInput","selectedNavItem","selectedNavIcon","navbar","changeTheme","isMobile","useMediaQuery","down","setOpen","currentUrl","location","pathname","getSearchText","useCallback","handleDrawerClose","isInSeachRoute","searchText","searchInput","querySelector","AppBar","Toolbar","aria-label","edge","Menu_default","src","noWrap","onSubmit","preventDefault","blur","Search_default","InputBase","placeholder","input","inputProps","onFocus","onBlur","BrightnessHigh_default","Brightness4_default","Drawer","anchor","ChevronLeft_default","ChevronRight_default","Divider","List","ListItem","button","selected","ListItemIcon","List_default","ListItemText","Restore_default","Announcement_default","Colorize_default","LinkMUI","Link_default","stickToBottom","smUp","BottomNavigation","showLabels","BottomNavigationAction","Boolean","hostname","match","ReactDOM","render","prefersDarkMode","setIsLightTheme","changeBarColor","isLight","meta","toLight","react_router_dom","basename","ThemeProvider","CssBaseline","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.08f265cc.chunk.js","sourcesContent":["\nimport React from 'react'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles(theme => ({\n  loading: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n}))\n\nexport default () => {\n  const theme = useTheme()\n  const classes = useStyles(theme)\n\n  return (\n    <Backdrop className={classes.loading} open>\n        <CircularProgress color=\"secondary\" disableShrink />\n    </Backdrop>\n  )\n}\n","import { openDB } from 'idb/with-async-ittr.js'\n\nconst DB_NAME = 'vegajuda'\nconst DB_VERSION = 1\n\nconst storeNames = {\n  config: 'config',\n  recent: 'recent',\n  favorites: 'favorites',\n}\n\nconst defaultStoreOptions = { keyPath: 'id', autoIncrement: true }\n\n// TODO: handle not supported error\nif (!window.indexedDB) throw new Error('NOT_SUPPORTED')\n\nexport const dbPromise = openDB(DB_NAME, DB_VERSION, {\n  upgrade(db) {\n    db.createObjectStore(storeNames.config, {\n      ...defaultStoreOptions, autoIncrement: false\n    })\n    const recentStore = db.createObjectStore(\n      storeNames.recent, defaultStoreOptions\n    )\n    const favoritesStore = db.createObjectStore(\n      storeNames.favorites, defaultStoreOptions\n    )\n\n    recentStore.createIndex('id', ['type', 'typeId'])\n    favoritesStore.createIndex('id', ['type', 'typeId'])\n  }\n})\n\nclass StoreDb {\n  constructor(storeName) {\n    this.storeName = storeName\n  }\n\n  async getTx(isReadOnly = true, storeNames = [this.storeName]) {\n    return (await dbPromise).transaction(\n      storeNames,\n      isReadOnly ? 'readonly' : 'readwrite'\n    )\n  }\n\n  async getAll() {\n    return (await (await dbPromise).getAll(this.storeName)) || []\n  }\n\n  async get(id) {\n    return (await (await dbPromise).get(this.storeName, id)) || {}\n  }\n\n  async put(obj, avoidException = false) {\n    try {\n      return await (await dbPromise).put(this.storeName, obj)\n    } catch (ex) {\n      if (avoidException) return false\n      throw ex\n    }\n  }\n\n  async delete(id, avoidException = false) {\n    try {\n      await (await dbPromise).delete(this.storeName, id)\n      return true\n    } catch (ex) {\n      if (avoidException) return false\n      throw ex\n    }\n  }\n\n  async clear () {\n    return await (await dbPromise).clear(this.storeName)\n  }\n}\n\nexport const configStore = new StoreDb(storeNames.config)\nexport const recentStore = new StoreDb(storeNames.recent)\nexport const favoritesStore = new StoreDb(storeNames.favorites)\n","export const removeDiacritics = text => text.normalize('NFD')\n  .replace(/[\\u0300-\\u036f]/g, '')\n  // remove non alfanumeric chars too\n  .replace(/[^A-z\\d\\s]/g, '')\n\nexport const convertToSeachText = text => removeDiacritics(text.toLowerCase())\n\nexport function getNextItems(collection, lastId, chunkSize = 20) {\n  const idx = collection.findIndex(i => i.id === lastId) + 1\n  return collection.slice(idx, idx + chunkSize)\n}\n\nconst getData = async () => {\n  const response = await fetch(`${process.env.PUBLIC_URL}/data.json`)\n  return await response.json()\n}\n\nexport default getData\n\nexport async function query(search) {\n  // BUG: options repeating in items, inclusive options of another item\n  const { categories, items, options } = await getData()\n  const searchTerm = removeDiacritics(search.toLowerCase())\n  const searchFilter = i => i && removeDiacritics(i.name.toLowerCase())\n    .includes(searchTerm)\n  const boldResult = i => {\n    let result = []\n    let idx = 0\n\n    for (const res of removeDiacritics(i.name).matchAll(new RegExp(searchTerm, 'gi'))) {\n      const endRes = res.index + res[0].length\n      const begin = i.name.substring(idx, res.index)\n      const end = i.name.substring(res.index, endRes)\n\n      if (begin) result.push({ content: begin })\n      result.push({ content: end, bold: true })\n\n      idx = endRes\n    }\n\n    result.push({ content: i.name.substring(idx) })\n\n    return { ...i, name: result }\n  }\n\n  const searchOnList = list => list.filter(searchFilter).map(boldResult)\n\n  const categoriesResult = searchOnList(categories)\n  const itemsResult = searchOnList(items)\n  const optionsResult = searchOnList(options)\n\n  const result = []\n  categories.forEach(c => {\n    let included = false\n    const cat = { ...c, items: [] }\n    const includeCategory = (includeItems, includeOptions) => {\n      if (!included) result.push(cat)\n      included = true\n    }\n    const findCategory = i => i.category === c.key\n\n    const inCategories = categoriesResult.find(cr => cr.key === c.key)\n    if (!included && inCategories) {\n      cat.name = inCategories.name\n      includeCategory()\n    }\n\n    const inItems = itemsResult.some(findCategory)\n    if (inItems) {\n      includeCategory()\n      const categoryItems = itemsResult.filter(findCategory)\n        .map(i => ({ ...i, options: [] }))\n      cat.items.push(...categoryItems)\n    }\n\n    const inOptions = optionsResult.some(findCategory)\n    if (inOptions) {\n      if (!included) includeCategory()\n      const categoryOptions = optionsResult.filter(findCategory)\n      categoryOptions.forEach(o => {\n        const findItem = i => i.key === o.item\n        let item = cat.items.find(findItem)\n        if (!item) {\n          const i = items.find(findItem)\n          item = { ...i, options: [] }\n          cat.items.push(item)\n        }\n        item.options.push(o)\n      })\n    }\n  })\n\n  return result\n}\n","import getData, { getNextItems } from '.'\n\nconst api = {\n  loadWithObservations: (data, collection) => data[collection].map(i => ({\n    ...i, obs: data.observations.find(o => o.id === i.obsId)\n  })),\n\n  _load: async () => api.loadWithObservations(await getData(), 'items'),\n\n  loadNext: async (categoryId, lastId) => getNextItems(\n    (await api._load()).filter(i => i.categoryId === categoryId),\n    lastId,\n  ),\n\n  get: async id => (await api._load()).find(i => i.id === id),\n\n  // valid for item and option since the model currently is the equal\n  searchFilter: (i, search) => i.name.includes(search) ||\n    (i.obs && (\n      (i.obs.observations && i.obs.observations.includes(search)) ||\n      (i.obs.only && i.obs.only.includes(search)) ||\n      (i.obs.except && i.obs.except.includes(search)) ||\n      (i.obs.warning && i.obs.warning.includes(search))\n    ))\n}\n\nexport default api\n","import getData from '.'\nimport itemApi from './item'\n\nconst api = {\n  _load: async () => itemApi.loadWithObservations(await getData(), 'options'),\n\n  load: async itemId => (await api._load()).filter(o => o.itemId === itemId),\n\n  get: async id => (await api._load()).find(o => o.id === id),\n}\n\nexport default api\n","import getData, { getNextItems } from '.'\n\nconst api = {\n  async _load() {\n    const data = await getData()\n    return data.ingredients.map(i => ({\n      ...i, font: data.fonts.find(f => f.id === i.fontId)\n    }))\n  },\n\n  loadNext: async lastId => getNextItems(await api._load(), lastId),\n\n  get: async id => (await api._load()).find(i => i.id === id),\n\n  count: async () => (await api._load()).length,\n\n  searchFilter: (i, search) => i.name.includes(search) ||\n    (i.descriptionShort && i.descriptionShort.includes(search)) ||\n    (i.otherNames && i.otherNames.some(n => n.includes(search))) ||\n    (i.description && i.description.includes(search)) ||\n    (i.use && i.use.includes()) ||\n    (i.alternatives && i.alternatives.some(a => a.includes(search)))\n}\n\nexport default api\n","import { favoritesStore as store } from './baseDb'\nimport itemApi from './item'\nimport optionApi from './option'\nimport ingredientApi from './ingredient'\n\nconst apis = {\n  item: itemApi,\n  option: optionApi,\n  ingredient: ingredientApi,\n}\n\nconst api = {\n  async load() {\n    const getFavoriteType = ({ typeId: id, type }) => apis[type].get(id)\n\n    const favorites = await store.getAll()\n    const typeItems = await Promise.all(favorites.map(getFavoriteType))\n\n    // favorite with type fields (override type fields by favorite fields)\n    return favorites.map((f, idx) => ({\n      ...typeItems[idx], ...f\n    }))\n  },\n\n  async get(type, id) {\n    const idx = (await store.getTx()).store.index('id')\n    const favorite = await idx.get([type, id])\n    return favorite\n  },\n\n  isFavorite: async (type, id) => !!await api.get(type, id),\n\n  /** Toggle item into the favorites\n  @return {Boolean} is favorite state;\n  */\n  async save(type, id) {\n    const favorite = await api.get(type, id)\n\n    if (!favorite) {\n      const { name } = await apis[type].get(id)\n      return await store.put({ type, typeId: id, name }, true)\n    } else return !(await store.delete(favorite.id), true)\n  },\n\n  async query(search = '') {\n    return this.load().filter(f =>\n      (f.type === 'ingredient' && ingredientApi.searchFilter(f, search)) ||\n      (f.type !== 'ingredient' && itemApi.searchFilter(f, search))\n    )\n  }\n}\n\nexport default api\n","import React, { useState } from 'react'\nimport clsx from 'clsx'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport api from '../api/favorite'\n\nconst useStyles = makeStyles(theme => ({\n  favorite: {\n    color: theme.palette.secondary.light,\n  },\n  noPadding: {\n    padding: 0,\n  }\n}))\n\nexport default ({ type, id, className, noPad, onFavoriteChanged }) => {\n  const [isFavorite, setIsFavorite] = useState(null)\n  const theme = useTheme()\n  const classes = useStyles(theme)\n\n  if (isFavorite === null) (async () => {\n    const favorited = await api.isFavorite(type, id)\n    setIsFavorite(favorited)\n  })()\n\n  const handleFavorite = async () => {\n    const isFavorited = await api.save(type, id)\n    if (onFavoriteChanged) return onFavoriteChanged()\n    setIsFavorite(isFavorited)\n  }\n\n  return (\n    <IconButton\n      color=\"inherit\"\n      onClick={handleFavorite}\n      className={clsx(className, noPad ? classes.noPadding : '')}\n    >\n      {!onFavoriteChanged && (isFavorite\n        ? <FavoriteIcon className={classes.favorite} />\n        : <FavoriteBorderIcon />)\n      }\n      {!!onFavoriteChanged &&\n        <DeleteIcon />\n      }\n    </IconButton>\n  )\n}\n","import React from 'react'\nimport clsx from 'clsx'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport { Link } from 'react-router-dom'\nimport Grid from '@material-ui/core/Grid'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport FavoriteButton from '../favorites/button'\n\n// TODO: transform into a generic banner component\n\nconst useStyles = makeStyles(theme => ({\n  category: {\n    padding: theme.spacing(1, 2, 3),\n    position: 'relative',\n    backgroundColor: theme.palette.grey[800],\n    color: theme.palette.common.white,\n    marginBottom: theme.spacing(2),\n    minHeight: theme.spacing(15),\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: 'rgba(0,0,0,.3)',\n  },\n  banner: {\n    margin: 0,\n    marginBottom: theme.spacing(2),\n    borderRadius: 0,\n    minHeight: theme.spacing(30),\n  },\n  content: {\n    zIndex: 0,\n  },\n}))\n\nexport default ({ category: c, item: i, link, banner = false, noType = false }) => {\n  // TODO: create category images for each screen size (xs, sm, md, lg, xl)\n  const theme = useTheme()\n  const classes = useStyles(theme)\n\n  const category = (\n    <Paper\n      key={c.name}\n      className={clsx(classes.category, banner ? classes.banner : '')}\n      style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/img/${c.id}.jpg)`}}\n    >\n      <img\n        style={{ display: 'none' }}\n        alt=\"background\"\n      />\n      <div className={classes.overlay} />\n\n      {!noType &&\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-end\"\n          alignItems=\"flex-end\"\n        >\n          <Grid item className={classes.content}>\n            <Typography variant=\"caption\">\n              {c && i\n                ? <>Produto <small>(item)</small></>\n                : 'Categoria'\n              }\n            </Typography>\n          </Grid>\n        </Grid>\n      }\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"space-between\"\n        alignItems=\"flex-end\"\n      >\n        <Grid item xs={10} className={classes.content}>\n          {!i\n            ? <Typography variant={!banner ? 'subtitle1' : 'h5'}>{c.name}</Typography>\n            : <>\n              <Typography variant=\"subtitle1\" gutterBottom>{i.name}</Typography>\n              <Typography variant=\"caption\" gutterBottom>{c.name}</Typography>\n            </>\n          }\n        </Grid>\n        {!!i &&\n          <Grid item xs className={classes.content}>\n            <FavoriteButton\n              type={'item'}\n              id={i.id}\n            />\n          </Grid>\n        }\n      </Grid>\n    </Paper>)\n\n    if (link) return (\n      <CardActionArea component={Link} to={link}>\n        {category}\n      </CardActionArea>\n    )\n\n    return category\n}\n","import getData from '.'\n\nexport const api = {\n  load: async () => (await getData()).categories,\n\n  get: async id => (await api.load()).find(c => c.id === id),\n}\n\nexport default api\n","import React, { useState, useEffect } from 'react'\nimport Container from '@material-ui/core/Container'\nimport Loading from '../components/loading'\nimport Category from './category'\nimport api from '../api/category'\n\nexport default () => {\n  const [categories, setCategories] = useState(null)\n\n  useEffect(() => {\n    (async () => setCategories(await api.load()))()\n  }, [])\n\n  if (!categories) return <Loading />\n\n  return (\n    <>\n      <Category\n        category={{\n          name: 'Lista de produtos liberados do grupo Vegajuda - Veganismo',\n          id: 'vegajuda'\n        }}\n        noType\n        banner\n      />\n      <Container fixed>\n        {categories && categories\n          .map((c, idx) => (\n          <React.Fragment key={idx}>\n            <Category\n              category={c}\n              link={`items/${c.id}`}\n            />\n          </React.Fragment>\n        ))}\n      </Container>\n    </>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport clsx from 'clsx'\nimport Grid from '@material-ui/core/Grid'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport Badge from '@material-ui/core/Badge';\nimport Typography from '@material-ui/core/Typography'\nimport red from '@material-ui/core/colors/red'\nimport lightBlue from '@material-ui/core/colors/lightBlue'\nimport orange from '@material-ui/core/colors/orange'\nimport teal from '@material-ui/core/colors/teal'\nimport FavoriteButton from '../favorites/button'\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    marginBottom: theme.spacing(1),\n    width: '100%',\n  },\n  badge: {\n    width: '100%',\n  },\n  cardContent: {\n    padding: [theme.spacing(0.5, 1, 1), '!important'],\n  },\n  cardActions: {\n    maxWidth: '100%',\n  },\n  actionsTitle: {\n    marginTop: theme.spacing(1),\n  },\n  actionsWithTitle: {\n    paddingTop: 0,\n  },\n  contentWithActionsTitle: {\n    paddingBottom: [0, '!important'],\n  },\n  warning: {\n    color: red[500],\n  },\n  only: {\n    color: lightBlue[500],\n  },\n  except: {\n    color: orange[500],\n  },\n  observation: {\n    color: teal[500],\n  },\n}))\n\nexport default ({\n  item: i,\n  link,\n  width,\n  actionsTitle,\n  badge = true,\n  isOption,\n  onFavoriteChanged,\n  children,\n}) => {\n  const theme = useTheme()\n  const classes = useStyles(theme)\n  const history = useHistory()\n\n  const handleLinkClick = e => {\n    const findParentButton = el => el.tagName === 'BUTTON'\n      ? el\n      : findParentButton(el.parentNode)\n\n    if (findParentButton(e.target).className.includes('MuiCardActionArea-root'))\n      history.push(link)\n  }\n\n  const cardContent = (\n    <>\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"flex-end\"\n        alignItems=\"flex-end\"\n      >\n        <Grid item className={classes.content}>\n          <Typography variant=\"caption\">\n            {isOption\n              ? <>Marca <small>(opção)</small></>\n              : <>Produto <small>(item)</small></>\n            }\n          </Typography>\n        </Grid>\n      </Grid>\n\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"space-between\"\n        alignItems=\"baseline\"\n      >\n        <Grid item xs={11} className={classes.content}>\n          <Typography variant=\"subtitle1\">\n            {i.name}\n          </Typography>\n        </Grid>\n        <Grid item xs={1}>\n          <FavoriteButton\n            noPad\n            type={isOption ? 'option' : 'item'}\n            id={i.typeId || i.id}\n            onFavoriteChanged={onFavoriteChanged}\n          />\n        </Grid>\n      </Grid>\n\n      {i.warnings && <>\n        <Typography variant=\"body2\" className={classes.warning} gutterBottom>\n          <strong>Atenção:</strong> {i.warnings}\n        </Typography>\n      </>}\n\n      {i.only && <>\n        <Typography variant=\"body2\" className={classes.only} gutterBottom>\n          <strong>Somente:</strong> {i.only}\n        </Typography>\n      </>}\n\n      {i.except && <>\n        <Typography variant=\"body2\" className={classes.except} gutterBottom>\n          <strong>Exceto:</strong> {i.except}\n        </Typography>\n      </>}\n\n      {i.observations && <>\n        <Typography variant=\"body2\" className={classes.observation} gutterBottom>\n          <strong>Obs:</strong> {i.observations}\n        </Typography>\n      </>}\n\n      {!!actionsTitle &&\n        <Typography color=\"textSecondary\" className={classes.actionsTitle}>\n          {actionsTitle}\n        </Typography>}\n    </>\n  )\n\n  const content = (\n    <>\n      <CardContent\n        className={clsx(classes.cardContent,\n          actionsTitle ? classes.contentWithActionsTitle : '')}\n      >\n        {cardContent}\n      </CardContent>\n      {!!children &&\n        <CardActions\n          disableSpacing\n          className={clsx(classes.cardActions, actionsTitle ? classes.actionsWithTitle : '')}\n        >\n          {children}\n        </CardActions>\n      }\n    </>\n  )\n\n  const card = (\n    <Card className={classes.card}>\n      {link\n        ? <CardActionArea onClick={handleLinkClick}>{content}</CardActionArea>\n        : content\n      }\n    </Card>\n  )\n\n  if (i.optionsCount && badge) {\n    return (\n      <Badge\n        badgeContent={i.optionsCount}\n        color=\"secondary\"\n        className={classes.badge}\n      >\n        {card}\n      </Badge>\n    )\n  }\n\n  return card\n}\n","import { useEffect } from 'react'\nimport debounce from 'lodash/debounce'\n\nexport default function useInfiniteScroll (onBottomReached) {\n  const infiniteScroll = debounce(() => {\n    if (window.innerHeight + document.documentElement.scrollTop\n        >= document.documentElement.offsetHeight - (\n          document.documentElement.offsetHeight * 0.1\n        )) {\n      onBottomReached()\n    }\n  }, 100)\n\n  useEffect(() => {\n    window.addEventListener('scroll', infiniteScroll)\n\n    return () => {\n      window.removeEventListener('scroll', infiniteScroll)\n    }\n  }, [infiniteScroll])\n}\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport Container from '@material-ui/core/Container'\nimport Grid from '@material-ui/core/Grid'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Slide from '@material-ui/core/Slide'\nimport Loading from '../components/loading'\nimport Category from './category'\nimport CardItem from './card-item'\nimport useInfiniteScroll from '../hooks/use-infinite-scroll'\nimport api from '../api/item'\nimport categoryApi from '../api/category'\n\nexport default () => {\n  // TODO: add floating button to go top\n  const { categoryId } = useParams()\n\n  const [category, setCategory] = useState(null)\n  const [items, setItems] = useState([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [isAllItemsLoaded, setIsAllItemsLoaded] = useState(false)\n  const [openAllItemsLoaded, setOpenAllItemsLoaded] = useState(false)\n\n  const getMoreItems = async () => {\n    const lastId = (items.slice().pop() || {}).id\n    const nextItems = await api.loadNext(categoryId, lastId)\n\n    if (!nextItems.length) {\n      setIsAllItemsLoaded(true)\n      setOpenAllItemsLoaded(true)\n    } else {\n      setItems([...items, ...nextItems])\n    }\n\n    setIsLoading(false)\n  }\n\n  useInfiniteScroll(() => {\n    if (!isLoading && !isAllItemsLoaded) {\n      setIsLoading(true)\n      getMoreItems()\n    } else if (isAllItemsLoaded && !openAllItemsLoaded)\n      setOpenAllItemsLoaded(true)\n  })\n\n  useEffect(() => {\n    (async () => setCategory(await categoryApi.get(categoryId)))()\n    getMoreItems()\n    window.scrollTo(0, 0)\n  }, [categoryId])\n\n  if (!category) return <Loading />\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <Category\n        category={category}\n        banner\n      />\n      <Container fixed>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"flex-start\"\n          spacing={1}\n        >\n          {items.map((i, idx) => (\n              <Grid item xs={12} key={idx}>\n                <CardItem\n                  item={i}\n                  link={`/options/${i.categoryId}/${i.id}`}\n                />\n              </Grid>\n          ))}\n        </Grid>\n      </Container>\n      <Snackbar\n        open={openAllItemsLoaded}\n        onClose={() => setOpenAllItemsLoaded(false)}\n        TransitionComponent={props => <Slide {...props} direction=\"up\" />}\n        autoHideDuration={2000}\n        message={'Fim dos items dessa categoria'}\n      />\n    </>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport Container from '@material-ui/core/Container'\nimport Loading from '../components/loading'\nimport Category from './category'\nimport CardItem from './card-item'\nimport categoryApi from '../api/category'\nimport itemApi from '../api/item'\nimport api from '../api/option'\n\nexport default () => {\n  const { categoryId, itemId } = useParams()\n\n  const [category, setCategory] = useState(null)\n  const [item, setItem] = useState(null)\n  const [options, setOptions] = useState([])\n\n  useEffect(() => {\n    (async () => {\n      const iid = Number(itemId)\n      setCategory(await categoryApi.get(categoryId))\n      setItem(await itemApi.get(iid))\n      setOptions(await api.load(iid))\n    })()\n    window.scrollTo(0, 0)\n  }, [categoryId, itemId])\n\n  if (!category || !item) return <Loading />\n\n  return (\n    <>\n      <Category category={category} item={item} banner />\n      <Container>\n        {options.map((o, idx) => (\n          <CardItem key={idx} item={o} isOption />\n        ))}\n      </Container>\n    </>\n  )\n}\n","import React from 'react'\r\nimport Container from '@material-ui/core/Container'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport HistoryIcon from '@material-ui/icons/History'\r\nimport RunIcon from '@material-ui/icons/DirectionsRun'\r\nimport BuildIcon from '@material-ui/icons/Build'\r\n\r\nexport default () => {\r\n  // TODO: implement recent\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h2\" align=\"center\" gutterBottom>\r\n        <HistoryIcon />\r\n        Recentes\r\n        <HistoryIcon />\r\n      </Typography>\r\n      <Typography variant=\"body2\" gutterBottom>\r\n        Mostrará o histórico das ultimas buscas, categorias,\r\n        items <small>(produtos)</small> visitados.\r\n      </Typography>\r\n      <Typography variant=\"body1\" align=\"center\">\r\n        <BuildIcon />\r\n        Em construção\r\n        <RunIcon />\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n","import React from 'react'\nimport Chip from '@material-ui/core/Chip'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: theme.spacing(3),\n  },\n  notFountPaper: {\n    padding: theme.spacing(2),\n  },\n  brandsDescription: {\n    display: 'block',\n  },\n  chipContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: theme.spacing(0.5),\n    },\n  },\n  chip: {\n    maxWidth: 148,\n    marginLeft: 2,\n    marginBottom: 2,\n  },\n}))\n\nexport function ChipContainer ({ children }) {\n  const theme = useTheme()\n  const classes = useStyles(theme)\n\n  return (\n    <div className={classes.chipContainer}></div>\n  )\n}\n\nexport default function Chiptip({\n  children,\n  tip,\n  icon = <></>,\n  maxWidth,\n  onClick,\n}) {\n  const theme = useTheme()\n  const classes = useStyles(theme)\n\n  return (\n    <Tooltip\n      title={tip || children}\n    >\n      <Chip\n        className={classes.chip}\n        variant=\"outlined\"\n        color=\"primary\"\n        deleteIcon={icon}\n        onDelete={onClick || (() => {})}\n        label={children}\n        classes={{ label: classes.chipLabel }}\n        clickable\n        style={{ maxWidth }}\n      />\n    </Tooltip>)\n}\n","import React from 'react'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport Link from '@material-ui/core/Link'\nimport Chiptip from '../components/chiptip'\nimport FavoriteButton from '../favorites/button'\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    marginBottom: theme.spacing(1),\n    width: '100%',\n  },\n  'd-block': {\n    display: 'block',\n  },\n  cardContent: {\n    padding: [theme.spacing(0.5, 1, 1), '!important'],\n  },\n  font: {\n    float: 'right',\n  }\n}))\n\nexport default ({\n  id,\n  ingredient: i,\n  onFavoriteChanged,\n}) => {\n  const theme = useTheme()\n  const classes = useStyles(theme)\n\n  const formatArrayFinishByAnd = arr => {\n    const start = arr.slice(0, arr.length).join(', ')\n    const end = arr[arr.length - 1]\n    if (arr.length > 1) return `${start} e ${end}`\n    else return start\n  }\n\n  return (\n    <Card className={classes.card}>\n      <CardContent\n        className={classes.cardContent}\n      >\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-end\"\n          alignItems=\"flex-end\"\n        >\n          <Grid item className={classes.content}>\n            <Typography variant=\"caption\">Ingrediente</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"space-between\"\n          alignItems=\"baseline\"\n        >\n          <Grid item xs={11} className={classes.content}>\n            <Typography variant=\"subtitle1\">\n              {i.name}\n            </Typography>\n            {i.otherNames &&\n            <Typography variant=\"caption\">\n              <strong>Também conhecido como</strong>&nbsp;\n              {formatArrayFinishByAnd(i.otherNames)}\n            </Typography>}\n          </Grid>\n          <Grid item xs={1}>\n            <FavoriteButton\n              noPad\n              type=\"ingredient\"\n              id={id}\n              onFavoriteChanged={onFavoriteChanged}\n            />\n          </Grid>\n        </Grid>\n\n        {i.descriptionShort &&\n        <Typography variant=\"body2\" gutterBottom>\n          {i.descriptionShort}\n        </Typography>}\n\n        {i.description &&\n        <Typography variant=\"caption\" className={classes['d-block']} gutterBottom>\n          {i.description}\n        </Typography>}\n\n        {i.use &&\n        <Typography variant=\"caption\" className={classes['d-block']} gutterBottom>\n          <strong>Usado em:</strong> {i.use}\n        </Typography>}\n\n        {i.alternatives &&\n        <Typography variant=\"caption\" className={classes['d-block']} gutterBottom>\n          <strong>Alternativas:</strong>\n          {i.alternatives.map((a, idx) => (\n            <Chiptip key={idx} maxWidth={196}>{a}</Chiptip>\n          ))}\n        </Typography>}\n\n        <Typography variant=\"caption\" className={classes.font}>\n          <strong>Fonte:</strong>&nbsp;\n          <Link href={i.font.link} target=\"_blank\">{i.font.name}</Link>\n        </Typography>\n      </CardContent>\n    </Card>)\n}\n","import React, { useState, useEffect } from 'react'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Category from '../list/category'\r\nimport CardItem from '../list/card-item'\r\nimport CardIngredient from '../ingredients/card-ingredient'\r\nimport api from '../api/favorite'\r\n\r\nexport default () => {\r\n  const [favorites, setFavorites] = useState([])\r\n\r\n  const refreshFavorites = () => {\r\n    (async () => setFavorites(await api.load()))()\r\n  }\r\n\r\n  useEffect(refreshFavorites, [])\r\n\r\n  return (\r\n    <>\r\n      <Category\r\n        category={{\r\n          name: 'Favoritos',\r\n          key: 'favorites'\r\n        }}\r\n        noType\r\n        banner\r\n      />\r\n      <Container fixed>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          alignItems=\"flex-start\"\r\n          spacing={1}\r\n        >\r\n          {favorites.map(f => (\r\n            f.type === 'ingredient'\r\n              ? (\r\n                <CardIngredient\r\n                  key={f.id}\r\n                  id={f.typeId}\r\n                  ingredient={f}\r\n                  onFavoriteChanged={refreshFavorites}\r\n                />\r\n              ) : (\r\n                <CardItem\r\n                  key={f.id}\r\n                  item={f}\r\n                  isOption={f.type === 'option'}\r\n                  link={f.type === 'item' && `/options/${f.categoryId}/${f.typeId}`}\r\n                  onFavoriteChanged={refreshFavorites}\r\n                />\r\n              )\r\n          ))}\r\n        </Grid>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Link from '@material-ui/core/Link'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { routes } from '../routes'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    textAlign: 'center',\r\n  },\r\n}))\r\n\r\nexport default () => {\r\n  // TODO: use card with image to display title instead colored title\r\n  const theme = useTheme()\r\n  const classes = useStyles(theme)\r\n\r\n  const content = [\r\n    `Verifique sempre os ingredientes/composição dos\r\n    produtos antes de comprá-los. Muitas empresas\r\n    mudam as fórmulas ao longo do tempo incluindo ou\r\n    retirando ingredientes de origem animal.`,\r\n    `Os produtos e empresas foram incluídos na lista após\r\n    contato prévio com os SACs e sempre de acordo com\r\n    as informações fornecidas pelas próprias empresas.`,\r\n    `Mas, como bem sabemos, as informações mudam. As\r\n    empresas podem ser compradas e se associar a outras\r\n    empresas que realizam testes em animais, passar a\r\n    patrocinar eventos que usem animais ou mudar os\r\n    ingredientes dos produtos e isso nem sempre fica\r\n    claro quando entramos em contato com os SACs.`,\r\n    [\r\n      `Se souber de informações contrárias a alguma empresa\r\n      ou produto presente na lista, avise os administradores\r\n      do `,\r\n      <Link href={routes.facebook} target=\"_blank\">\r\n        VegAjuda - Veganismo\r\n      </Link>,\r\n      ` para que a lista seja editada.`\r\n    ],\r\n    `Entre também em contato com as empresas e envie as\r\n    respostas dos SACs para os administradores do grupo.`,\r\n  ]\r\n\r\n  return (\r\n    <Container className={classes.container}>\r\n      <Paper className={classes.paper}>\r\n        <Typography className={classes.title} gutterBottom>\r\n          <Typography variant=\"h5\" color=\"error\" component=\"span\">\r\n            <WarningIcon color=\"secondary\" /> Atenção!&nbsp;\r\n          </Typography>\r\n          <Typography variant=\"h5\" color=\"primary\" component=\"span\">\r\n            Importante! <WarningIcon color=\"secondary\" />\r\n          </Typography>\r\n        </Typography>\r\n        {content.map(p =>\r\n          <Typography variant=\"body1\" gutterBottom>\r\n            {typeof p === 'string' && p}\r\n            {Array.isArray(p) && p.map(pp => pp)}\r\n          </Typography>\r\n        )}\r\n        <Typography variant=\"body1\" color=\"secondary\">\r\n          Contamos com a ajuda de todos para que a lista cresça\r\n          e melhore cada vez mais!\r\n        </Typography>\r\n      </Paper>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport Loading from '../components/loading'\r\nimport Category from '../list/category'\r\nimport CardIngredient from './card-ingredient'\r\nimport useInfiniteScroll from '../hooks/use-infinite-scroll'\r\nimport api from '../api/ingredient'\r\n\r\nexport default () => {\r\n  // TODO: implement search only ingredients\r\n  // QUESTION: bring total with loadNext? keep search in mind\r\n  const [ingredients, setIngredients] = useState(null)\r\n  const [total, setTotal] = useState(null)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [isAllItemsLoaded, setIsAllItemsLoaded] = useState(false)\r\n  const [openAllItemsLoaded, setOpenAllItemsLoaded] = useState(false)\r\n\r\n  useInfiniteScroll(() => {\r\n    if (!isLoading && !isAllItemsLoaded) {\r\n      setIsLoading(true)\r\n\r\n      const lastId = (ingredients.slice().pop() || {}).id\r\n      ;(async () => {\r\n        const nextIngredients = await api.loadNext(lastId)\r\n\r\n        if (!nextIngredients.length) {\r\n          setIsAllItemsLoaded(true)\r\n          setOpenAllItemsLoaded(true)\r\n        } else {\r\n          setIngredients([ ...ingredients, ...nextIngredients ])\r\n        }\r\n\r\n        setIsLoading(false)\r\n      })()\r\n    } else if (isAllItemsLoaded && !openAllItemsLoaded)\r\n      setOpenAllItemsLoaded(true)\r\n  })\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setIngredients(await api.loadNext())\r\n      setTotal(await api.count())\r\n    })()\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  if (!ingredients) return <Loading />\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <Loading />}\r\n      <Category\r\n        item={{ id: 'ingredients', name: 'Ingredientes não veganos' }}\r\n        category={{\r\n          id: 'count', name: total && `${total} ingredientes cadastrados`\r\n        }}\r\n        noType\r\n        banner\r\n      />\r\n      <Container>\r\n        {ingredients.map(i => (\r\n          <Grid item xs={12} key={i.id}>\r\n            <CardIngredient\r\n              id={i.id}\r\n              ingredient={i}\r\n            />\r\n          </Grid>\r\n        ))}\r\n      </Container>\r\n      <Snackbar\r\n        open={openAllItemsLoaded}\r\n        onClose={() => setOpenAllItemsLoaded(false)}\r\n        TransitionComponent={props => <Slide {...props} direction=\"up\" />}\r\n        autoHideDuration={2000}\r\n        message={'Fim da lista de ingredientes'}\r\n      />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport LinkMUI from '@material-ui/core/Link'\r\nimport Container from '@material-ui/core/Container'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport DownloadIcon from '@material-ui/icons/CloudDownload'\r\nimport RunIcon from '@material-ui/icons/DirectionsRun'\r\nimport BuildIcon from '@material-ui/icons/Build'\r\nimport { routes } from '../routes'\r\n\r\nexport default () => {\r\n  // TODO: implement download\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h2\" align=\"center\" gutterBottom>\r\n        <DownloadIcon />\r\n        Baixar\r\n        <DownloadIcon />\r\n      </Typography>\r\n      <Typography variant=\"body2\" gutterBottom>\r\n        Disponibilizará download dos arquivos de dados do aplicativo nos\r\n        formatos pdf, excel e json, fazendo jus ao que está escrito em&nbsp;\r\n        <LinkMUI component={Link} to={routes.about}>sobre</LinkMUI>.\r\n      </Typography>\r\n      <Typography variant=\"body1\" align=\"center\">\r\n        <BuildIcon />\r\n        Em construção\r\n        <RunIcon />\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n","import React from 'react'\nimport { Link as Route } from 'react-router-dom'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport Typography from '@material-ui/core/Typography'\nimport Link from '@material-ui/core/Link'\nimport { routes } from '../routes'\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    marginTop: theme.spacing(3),\n  },\n  body: {\n    marginBottom: theme.spacing(2),\n  },\n}))\n\nexport default () => {\n  // TODO: add link for each used image\n  // TODO: alternate between portuguese and english\n  const theme = useTheme()\n  const classes = useStyles(theme)\n\n  return (\n    <Container>\n      <Typography variant=\"h6\" className={classes.title}>About the app</Typography>\n      <Typography variant=\"body2\" className={classes.body}>\n        This app is an\n        <Link href={routes.github} target=\"_blank\"> opensource software </Link>\n        created by\n        <Link href=\"https://facebook.com/jhonasnasc\" target=\"_blank\"> Jhonas Nascimento</Link>.\n        All the data contained in this software were made by the\n        <Link href={routes.facebook} target=\"_blank\"> facebook group </Link>\n        moderators and members and is open to download in computer format (json)\n        or excel here in\n        <Link component={Route} to={routes.download}> dowload section</Link>.\n      </Typography>\n      <Typography variant=\"h6\">Many thanks to photographers</Typography>\n      <Typography variant=\"caption\">\n        Who made their photos available to download for free on\n        <Link href=\"https://unsplash.com\" target=\"_blank\"> Unsplash website</Link>. Those photos\n        were included in this app in the category backgrounds.\n      </Typography>\n      <ul>\n        {[\n          'Joe Holiday',\n          'Vaun0815',\n          'Mae Mu',\n          'Zeidy Vargas',\n          'Lisa Hobbs',\n          'Kobby Mendez',\n          'Daiga Ellaby',\n          'Sarah Gualtieri',\n          'Lucas Gruwez',\n          'Piron Guillaume',\n          'Josh Sorenson',\n          'Mel Poole',\n          'Jazmin Quaynor',\n          'DESIGNECOLOGIST',\n          'Luis Quintero',\n          'Clem Onojeghuo',\n          'Angélica Echeverry',\n          'Frank Lloyd de la Cruz',\n          'Raphael Lovaski',\n          'Sam Carter',\n          'Angel Sinigersky',\n          'Laura Mitulla',\n          'Gabriel Matula',\n          'Lucas Benjamin',\n          'Jaredd Craig',\n          'Ashim D’Silva',\n        ].map(name => <li><Typography variant=\"body2\">{name}</Typography></li>)}\n      </ul>\n    </Container>\n  )\n}\n","import { configStore as store } from './baseDb'\n\nexport default {\n  getTheme: async () => (await store.get('isLightTheme')).value,\n\n  setTheme: async (isLightTheme) =>\n    await store.put({ id: 'isLightTheme', value: isLightTheme }),\n\n  getIsSearchTipPresented: async () =>\n    (await store.get('isSearchTipPresented')).value,\n\n  setIsSearchTipPresented: async () =>\n    await store.put({\n      id: 'isSearchTipPresented', value: true\n    }),\n}\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport clsx from 'clsx'\r\nimport debounce from 'lodash/debounce'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport Category from '../list/category'\r\nimport CardItem from '../list/card-item'\r\nimport Loading from '../components/loading'\r\nimport Chiptip, { ChipContainer } from '../components/chiptip'\r\nimport FavoriteButton from '../favorites/button'\r\nimport { query } from '../api'\r\nimport configApi from '../api/config'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  notFountPaper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  brandsDescription: {\r\n    display: 'block',\r\n  },\r\n  infoSnack: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  infoIcon: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  infoMessage: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}))\r\n\r\nconst SearchResultText = ({ result }) => (\r\n  Array.isArray(result.name)\r\n    ? result.name.map((part, idx) => (\r\n      part.bold ? <b key={idx}>{part.content}</b> : part.content\r\n    ))\r\n    : result.name\r\n)\r\n\r\nexport default () => {\r\n  // TODO: add category expand/collapse option\r\n  // TODO: add search ingredients\r\n  // BUG: options not shown\r\n  const { text: search } = useParams()\r\n  const theme = useTheme()\r\n  const classes = useStyles(theme)\r\n\r\n  const [showEndOfItems, setShowEndOfItems] = useState(false)\r\n  const [showOptionTip, setShowOptionTip] = useState(false)\r\n  const [result, setResult] = useState(null)\r\n\r\n  useEffect(() => {\r\n    (async () => setResult(await query(search)))()\r\n    window.scrollTo(0, 0)\r\n  }, [search])\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const isAlreadyShown = await configApi.getIsSearchTipPresented()\r\n      setShowOptionTip(!isAlreadyShown)\r\n    })()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    window.onscroll = debounce(() => {\r\n      if (window.innerHeight + document.documentElement.scrollTop\r\n          >= document.documentElement.offsetHeight && !showEndOfItems)\r\n          setShowEndOfItems(true)\r\n    }, 100)\r\n\r\n    return () => window.onscroll = null\r\n  })\r\n\r\n  const handleInfoClose = () => {\r\n    configApi.setIsSearchTipPresented(true)\r\n    setShowOptionTip(false)\r\n  }\r\n\r\n  // TODO: bring total results from query\r\n  const total = 123\r\n  if (!result) return <Loading />\r\n\r\n  return (\r\n    <>\r\n      <Category\r\n        category={{ name: `${total} resulados para ${search}` }}\r\n        item={{ id: 'search', name: 'Resultados da busca' }}\r\n        noType\r\n        banner\r\n      />\r\n      <Container className={classes.root}>\r\n        {result.map(c => (\r\n          <Grid\r\n            key={c.id}\r\n            container\r\n            direction=\"row\"\r\n            justify=\"center\"\r\n            alignItems=\"flex-start\"\r\n            spacing={1}\r\n          >\r\n            <Grid item xs={12}>\r\n              <Category\r\n                category={{ ...c, name: <SearchResultText result={c} /> }}\r\n                link={`/items/${c.id}`}\r\n              />\r\n            </Grid>\r\n            {c.items.map(i => (\r\n              <Grid key={i.id} item xs={12}>\r\n                <CardItem\r\n                  item={{ ...i, name: <SearchResultText result={i} /> }}\r\n                  link={`/options/${i.category}/${i.id}`}\r\n                  badge={false}\r\n                  actionsTitle={\r\n                    i.options.length ? <>Marcas <small>(opções)</small>:</> : null\r\n                  }\r\n                >\r\n                  <ChipContainer>\r\n                    {i.options.map(o => (\r\n                      <>\r\n                        <Chiptip key={o.id} icon={<FavoriteButton noPad />}>\r\n                          <SearchResultText result={o} />\r\n                        </Chiptip>\r\n                      </>\r\n                    ))}\r\n                  </ChipContainer>\r\n                </CardItem>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        ))}\r\n        {!result.length &&\r\n          <Paper className={classes.notFountPaper}>\r\n            <Typography variant=\"body1\">\r\n              Nenhum resultado encontrado na busca de \"{search}\"\r\n            </Typography>\r\n          </Paper>\r\n        }\r\n        <Snackbar\r\n          open={showEndOfItems}\r\n          onClose={() => setShowEndOfItems(false)}\r\n          autoHideDuration={2000}\r\n          TransitionComponent={props => <Slide {...props} direction=\"up\" />}\r\n          message={'Fim dos resultados da busca'}\r\n        />\r\n        <Hidden mdUp>\r\n          <Snackbar\r\n            style={!(showOptionTip && result.length) ? { display: 'none' } : {}}\r\n            open={showOptionTip && result.length}\r\n            onClose={handleInfoClose}\r\n            anchorOrigin={{ vertical: 'top', horizontal: 'left' }}\r\n            TransitionComponent={props => <Slide {...props} direction=\"up\" />}\r\n            message={\r\n              <span className={classes.infoMessage}>\r\n                <InfoIcon className={clsx(classes.icon, classes.infoIcon)} />\r\n                Para visualizar todo conteúdo de uma opção (marca),\r\n                basta tocar nela\r\n                <IconButton key=\"close\" color=\"inherit\" onClick={handleInfoClose}>\r\n                  <CloseIcon className={classes.icon} />\r\n                </IconButton>\r\n              </span>\r\n            }\r\n            ContentProps={{\r\n              classes: { root: classes.infoSnack }\r\n            }}\r\n          />\r\n        </Hidden>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport Categories from './list/categories'\r\nimport Items from './list/items'\r\nimport Options from './list/options'\r\nimport Recent from './recent'\r\nimport Favorites from './favorites'\r\nimport Announcements from './announcements'\r\nimport Ingredients from './ingredients'\r\nimport Download from './download'\r\nimport About from './about'\r\nimport Search from './search'\r\n\r\nexport const routes = ({\r\n  categories: '/categories',\r\n  items: '/items/:categoryId',\r\n  options: '/options/:categoryId/:itemId',\r\n  recent: '/recent',\r\n  favorites: '/favorites',\r\n  announcements: '/announcements',\r\n  ingredients: '/ingredients',\r\n  download: '/download',\r\n  about: '/about',\r\n  search: '/search/:text',\r\n  facebook: 'https://www.facebook.com/groups/trollajuda/',\r\n  github: 'https://github.com/jhonasn/vegajuda',\r\n})\r\n\r\nexport default () => (\r\n  <Switch>\r\n    <Redirect exact from=\"/\" to={routes.categories} />\r\n    <Route path={routes.categories} component={Categories} />\r\n    <Route path={routes.items} component={Items} />\r\n    <Route path={routes.options} component={Options} />\r\n    <Route path={routes.recent} component={Recent} />\r\n    <Route path={routes.favorites} component={Favorites} />\r\n    <Route path={routes.announcements} component={Announcements} />\r\n    <Route path={routes.ingredients} component={Ingredients} />\r\n    <Route path={routes.download} component={Download} />\r\n    <Route path={routes.about} component={About} />\r\n    <Route path={routes.search} component={Search} />\r\n    <Redirect to={routes.categories} />\r\n  </Switch>\r\n)\r\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport indigo from '@material-ui/core/colors/indigo'\nimport red from '@material-ui/core/colors/red'\nimport lime from '@material-ui/core/colors/lime'\n\n// TODO: finish save the theme selected\nexport const lightTheme = responsiveFontSizes(createMuiTheme({\n  palette: {\n    type: 'light',\n    primary: indigo,\n    secondary: red,\n    error: lime,\n  },\n}))\n\nexport const darkTheme = responsiveFontSizes(createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      dark: indigo['500'],\n      main: indigo['900'],\n    },\n    secondary: {\n      dark: red['500'],\n      main: red['900'],\n    },\n    error: {\n      dark: lime['500'],\n      main: lime['900'],\n    },\n  },\n}))\n","import React, { useState, useEffect, useCallback } from 'react'\nimport clsx from 'clsx'\nimport { useHistory, Link } from 'react-router-dom'\nimport { makeStyles, useTheme, fade } from '@material-ui/core/styles'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport Drawer from '@material-ui/core/Drawer'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport List from '@material-ui/core/List'\nimport InputBase from '@material-ui/core/InputBase'\nimport Typography from '@material-ui/core/Typography'\nimport Divider from '@material-ui/core/Divider'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport RestoreIcon from '@material-ui/icons/Restore'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\nimport ListIcon from '@material-ui/icons/List'\nimport InfoIcon from '@material-ui/icons/Info'\nimport LinkIcon from '@material-ui/icons/Link'\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload'\nimport AnnouncementIcon from '@material-ui/icons/Announcement'\nimport ColorizeIcon from '@material-ui/icons/Colorize'\nimport SearchIcon from '@material-ui/icons/Search'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight'\nimport BrightnessHighIcon from '@material-ui/icons/BrightnessHigh'\nimport BrightnessLowIcon from '@material-ui/icons/Brightness4'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport LinkMUI from '@material-ui/core/Link'\nimport { routes } from '../routes'\n\nconst drawerWidth = 240\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarAbove: {\n    zIndex: 1201,\n  },\n  menuButton: {\n    [theme.breakpoints.only('xs')]: {\n      marginRight: 0,\n    },\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    [theme.breakpoints.only('xs')]: {\n      paddingTop: theme.spacing(7),\n    },\n  },\n  title: {\n    flexGrow: 1,\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(1.5, 1.5, 1.5, 0),\n    '&:focus': {\n      outlineStyle: 'none',\n    },\n  },\n  brandIcon: {\n    float: 'left',\n    [theme.breakpoints.only('xs')]: {\n      width: 26,\n      height: 32,\n    },\n    [theme.breakpoints.up('sm')]: {\n      width: 33,\n      height: 40,\n      marginRight: theme.spacing(1),\n    },\n  },\n  titleText: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: 120,\n      '&:focus': {\n        width: 200,\n      },\n    },\n  },\n  selectedNavItem: {\n    color: theme.palette.primary.main,\n  },\n  selectedNavIcon: {\n    color: 'inherit',\n  },\n}))\n\nexport default ({ children, isLightTheme, changeTheme }) => {\n  // TODO: implement slide to open menu, i think this can help:\n  // https://material-ui.com/pt/components/transitions/\n  const history = useHistory()\n  const classes = useStyles()\n  const theme = useTheme()\n  const isMobile = useMediaQuery(theme.breakpoints.down('xs'))\n  const [open, setOpen] = useState(false)\n  const currentUrl = history.location.pathname\n\n  const getSearchText = useCallback(() =>\n    currentUrl.replace('/search/', ''),\n  [currentUrl])\n\n  const handleDrawerOpen = () => setOpen(true)\n\n  const handleDrawerClose = () => setOpen(false)\n\n  const handleChangeTheme = () => changeTheme(!isLightTheme)\n\n  const handleSearchFocus = e => e.target.value = ''\n\n  const handleSearchBlur = e => {\n    const searchText = getSearchText()\n    if (!e.target.value && searchText) e.target.value = getSearchText()\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    history.push(routes.search.replace(':text', e.target.search.value))\n    e.target.search.blur()\n  }\n\n  useEffect(() => {\n    const isInSeachRoute = currentUrl.includes('/search/')\n    const searchText = getSearchText()\n    const searchInput = document.querySelector('input[name=search]')\n\n    if (!isInSeachRoute) searchInput.value = ''\n    else if (searchText && searchInput.value !== searchText)\n      searchInput.value = searchText\n  }, [currentUrl, getSearchText])\n\n  return (\n    <div className={classes.root}>\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarAbove]: !isMobile,\n        })}\n      >\n        <Toolbar>\n          {isMobile && <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, open && classes.hide)}\n          >\n            <MenuIcon />\n          </IconButton>}\n          <LinkMUI\n            className={classes.title}\n            color=\"inherit\"\n            component={Link}\n            to={routes.categories}\n          >\n            <img\n              alt=\"logo\"\n              className={classes.brandIcon}\n              src={`${process.env.PUBLIC_URL}/logo.svg`}\n            />\n            <Typography variant=\"h6\" noWrap className={classes.titleText}>\n              VegAjuda\n            </Typography>\n          </LinkMUI>\n          <form className={classes.search} onSubmit={handleSubmit}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Buscar...\"\n              name=\"search\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ 'aria-label': 'search' }}\n              onFocus={handleSearchFocus}\n              onBlur={handleSearchBlur}\n            />\n          </form>\n          <IconButton color=\"inherit\" onClick={handleChangeTheme}>\n            {isLightTheme ? <BrightnessHighIcon /> : <BrightnessLowIcon />}\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant={isMobile ? 'temporary' : 'permanent'}\n        anchor=\"left\"\n        open={open}\n        onClose={() => setOpen(false)}\n        classes={{ paper: classes.drawerPaper }}\n      >\n        <div className={classes.drawerHeader}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem\n            button\n            component={Link}\n            to={routes.categories}\n            onClick={handleDrawerClose}\n            selected={currentUrl === routes.categories}\n            classes={{ selected: classes.selectedNavItem }}\n          >\n            <ListItemIcon classes={{ root: classes.selectedNavIcon }}>\n              <ListIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Lista\" />\n          </ListItem>\n          <ListItem\n            button\n            component={Link}\n            to={routes.favorites}\n            onClick={handleDrawerClose}\n            selected={currentUrl === routes.favorites}\n            classes={{ selected: classes.selectedNavItem }}\n          >\n            <ListItemIcon classes={{ root: classes.selectedNavIcon }}>\n              <FavoriteIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Favoritos\" />\n          </ListItem>\n          <ListItem\n            button\n            component={Link}\n            to={routes.recent}\n            onClick={handleDrawerClose}\n            selected={currentUrl === routes.recent}\n            classes={{ selected: classes.selectedNavItem }}\n          >\n            <ListItemIcon classes={{ root: classes.selectedNavIcon }}>\n              <RestoreIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Recentes\" />\n          </ListItem>\n          <ListItem\n            button\n            component={Link}\n            to={routes.announcements}\n            onClick={handleDrawerClose}\n            selected={currentUrl === routes.announcements}\n            classes={{ selected: classes.selectedNavItem }}\n          >\n            <ListItemIcon classes={{ root: classes.selectedNavIcon }}>\n              <AnnouncementIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Avisos\" />\n          </ListItem>\n          <ListItem\n            button\n            component={Link}\n            to={routes.ingredients}\n            onClick={handleDrawerClose}\n            selected={currentUrl === routes.ingredients}\n            classes={{ selected: classes.selectedNavItem }}\n          >\n            <ListItemIcon classes={{ root: classes.selectedNavIcon }}>\n              <ColorizeIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Ingredientes\" />\n          </ListItem>\n          <ListItem\n            button\n            component={LinkMUI}\n            href={routes.facebook}\n            target=\"_blank\"\n            onClick={handleDrawerClose}\n            selected={currentUrl === routes.facebook}\n            classes={{ selected: classes.selectedNavItem }}\n          >\n              <ListItemIcon classes={{ root: classes.selectedNavIcon }}>\n                <LinkIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Facebook\" />\n          </ListItem>\n          <ListItem\n            button\n            component={Link}\n            to={routes.download}\n            onClick={handleDrawerClose}\n            selected={currentUrl === routes.download}\n            classes={{ selected: classes.selectedNavItem }}\n          >\n            <ListItemIcon classes={{ root: classes.selectedNavIcon }}>\n              <CloudDownloadIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Baixar\" />\n          </ListItem>\n          <Divider />\n          <ListItem\n            button\n            component={Link}\n            to={routes.about}\n            onClick={handleDrawerClose}\n            selected={currentUrl === routes.about}\n            classes={{ selected: classes.selectedNavItem }}\n          >\n            <ListItemIcon classes={{ root: classes.selectedNavIcon }}>\n              <InfoIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Sobre\" />\n          </ListItem>\n        </List>\n      </Drawer>\n      <main\n        className={classes.content}\n      >\n        {children}\n      </main>\n    </div>\n  )\n}\n","\nimport React from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation'\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction'\nimport Hidden from '@material-ui/core/Hidden'\nimport RestoreIcon from '@material-ui/icons/Restore'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\nimport ListIcon from '@material-ui/icons/List'\nimport { routes } from '../routes'\n\nconst useStyles = makeStyles({\n  stickToBottom: {\n    width: '100%',\n    position: 'fixed',\n    bottom: 0,\n    zIndex: 1,\n  }\n})\n\nexport default () => {\n  const classes = useStyles()\n  const history = useHistory()\n\n  return (\n    <Hidden smUp>\n      <BottomNavigation\n        value={history.location.pathname}\n        showLabels\n        className={classes.stickToBottom}\n      >\n        <BottomNavigationAction\n          label=\"Lista\"\n          icon={<ListIcon />}\n          component={Link}\n          to={routes.categories}\n          value={routes.categories}\n        />\n        <BottomNavigationAction\n          label=\"Recentes\"\n          icon={<RestoreIcon />}\n          component={Link}\n          to={routes.recent}\n          value={routes.recent}\n        />\n        <BottomNavigationAction\n          label=\"Favoritos\"\n          icon={<FavoriteIcon />}\n          component={Link}\n          to={routes.favorites}\n          value={routes.favorites}\n        />\n      </BottomNavigation>\n    </Hidden>\n  )\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport ReactDOM from 'react-dom'\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Routes from './routes'\nimport { ThemeProvider } from '@material-ui/styles'\nimport indigo from '@material-ui/core/colors/indigo'\nimport { lightTheme, darkTheme } from './theme'\nimport Menu from './menu/navbar'\nimport MenuBottom from './menu/bottom'\nimport * as serviceWorker from './serviceWorker'\nimport api from './api/config'\nimport 'typeface-roboto'\n\nconst App = () => {\n  // TODO: uglify data.json\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)')\n\n  const [isLightTheme, setIsLightTheme] = useState(prefersDarkMode)\n\n  const changeBarColor = isLight => {\n    const color = indigo[`${isLight ? 900 : 500}`]\n    const meta = document.querySelector('[name=theme-color]')\n    if (meta.content !== color) meta.content = color\n  }\n\n  const changeTheme = useCallback((toLight, changeDb = true) => {\n    if (changeDb) api.setTheme(toLight)\n    setIsLightTheme(toLight)\n    changeBarColor(toLight)\n  }, [])\n\n  useEffect(() => {\n    (async () => {\n      const isLight = await api.getTheme()\n      if (isLight !== isLightTheme) changeTheme(isLight, false)\n    })()\n  }, [isLightTheme, changeTheme])\n\n  // set chrome bar color\n  changeBarColor(isLightTheme)\n\n  return (\n    <Router basename={`${process.env.PUBLIC_URL}/`}>\n      <ThemeProvider theme={isLightTheme ? darkTheme : lightTheme}>\n        <CssBaseline/>\n        <Menu isLightTheme={isLightTheme} changeTheme={changeTheme}>\n          <Routes />\n        </Menu>\n        <MenuBottom />\n      </ThemeProvider>\n    </Router>\n  )\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}